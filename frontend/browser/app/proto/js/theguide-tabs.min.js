"use strict";angular.module("tgTabs",["ingGlobal","tgUtils"]),function(){function a(a){a.add("tgTabs",{explanationSr:"Subnavigatie met {0} items",startPanelSrText:"Begin tabpanel. ",endPanelSrText:"Einde tabpanel."})}angular.module("tgTabs").config(a),a.$inject=["propertyServiceProvider"]}(),function(){function a(){return{restrict:"E",terminal:!0,scope:!0,require:"^^tgTabs",link:function(a,b,c,d){var e={};e.label=c.label||b.find("tg-tab-label").html();var f=b.find("tg-tab-content");e.content=(f.length?f:b).html(),e.compileScope=a.$parent,e.tabindex=-1,d.addTab(e)}}}angular.module("tgTabs").directive("tgTab",a)}(),function(){function a(){return{require:"^^tgTabs",restrict:"A",link:function(a,b,c,d){function e(a){var b=0===d.state.activeIndex,c=d.state.activeIndex===d.tabs.length-1;return"forward"===a&&c?0:"backward"===a&&b?d.tabs.length-1:d.state.activeIndex+("forward"===a?1:-1)}var f={left:37,up:38,right:39,down:40};b.on("keydown",function(b){var c;b.which===f.down||b.which===f.right?c="forward":(b.which===f.left||b.which===f.up)&&(c="backward"),c&&(b.preventDefault(),a.$evalAsync(function(){d.setActive(e(c))}))})}}}angular.module("tgTabs").directive("tgTablistInteraction",a)}(),function(){function a(a){var b='<li role="presentation" ng-repeat="t in tabs.tabs track by $index" class="h-bor-a" ng-class="{\'h-bor-t-1\': !$first && tabs.isVertical && !tabs.state.isSmall && ($index !== tabs.state.activeIndex), \'h-bor-b-1\': tabs.isVertical && !tabs.state.isSmall && ($index === tabs.state.activeIndex-1), \'active\': $index === tabs.state.activeIndex, \'l-mr-n05\': $index === tabs.state.activeIndex && tabs.isVertical && !tabs.state.isSmall, \'l-ml-0 l-mb-05 l-mr-1\': tabs.state.isSmall}"><a ng-class="{\'h-bg-a h-text-b\': $index === tabs.state.activeIndex, \'h-no-wrap\': (!tabs.isVertical && !tabs.state.isSmall), \'font-lg l-p-2 h-bold\':(tabs.isVertical && !tabs.state.isSmall)}" id="tab-{{tabs.id + $index}}" href="" tg-compile="t.label" compile-scope="t.compileScope" ng-click="tabs.setActive($index)" role="tab" aria-selected="{{$index === tabs.state.activeIndex}}" aria-controls="panel-{{tabs.id + $index}}" tabindex="{{t.tabindex}}"></a></li>',c='<div id="panel-{{tabs.id + $index}}" role="tabpanel" tabindex="0" ng-repeat="t in tabs.tabs track by $index" ng-show="$index == tabs.state.activeIndex" aria-expanded="{{$index == tabs.state.activeIndex}}" aria-labelledby="tab-{{tabs.id + $index}}"><span class="sr-only">{{tabs.texts.startPanelSrText}}</span><div tg-compile="t.content" compile-scope="t.compileScope"></div><span class="sr-only">{{tabs.texts.endPanelSrText}}</span></div>',d='<div role="group" aria-labelledby="tabs-heading-{{tabs.id}}"><h2 class="sr-only" id="tabs-heading-{{tabs.id}}">{{tabs.explanationSrParsed}}</h2><div ng-if="!tabs.isVertical"><ul ng-if="tabs.state.isSmall" tg-tablist-interaction role="tablist" class="nav nav-primary nav-pills">'+b+'</ul><ul ng-if="!tabs.state.isSmall" tg-tablist-interaction role="tablist" class="nav nav-tabs" ng-class="{\'nav-primary nav-justified\':tabs.justify, \'nav-tabs-b\':!tabs.justify}">'+b+"</ul>"+c+'</div><div ng-if="tabs.isVertical" class="panel panel-shadow-a"><div ng-class="{\'row row-cols-stretch l-ml-0 l-mr-0\':!tabs.state.isSmall}"><div class="h-bg-b l-ml-0 l-pl-0 l-pr-0" ng-class="{\'panel-heading panel-heading-filled\':tabs.state.isSmall,\'col-xxs-12 col-lg-4 h-bor-r-1 h-bor-a\':!tabs.state.isSmall}"><ul role="tablist" class="nav" tg-tablist-interaction ng-class="{\'nav-pills nav-primary l-p-1\':tabs.state.isSmall,\'nav-tabs nav-vertical\':!tabs.state.isSmall}">'+b+"</ul></div><div ng-class=\"{'panel-body':tabs.state.isSmall,'col-md-12 col-lg-8 l-pt-2 l-pr-2 l-pl-2':!tabs.state.isSmall}\"> "+c+"</div></div></div></div>";return{restrict:"E",scope:{},controllerAs:"tabs",controller:["$timeout","$element","$scope","$attrs","mqService","propertyService","tgUtils",function(b,c,e,f,g,h,i){function j(a){q.tabs.push(a)}function k(a){q.tabs[q.state.activeIndex].tabindex=-1,q.state.activeIndex=a,q.tabs[a].tabindex=0,c[0].querySelectorAll('ul[role="tablist"] li a')[a].focus(),e.$emit("tgTabs_setActiveTab",{activeTabIndex:a})}function l(){q.state.activeIndex=q.tabs[q.state.activeIndex]?q.state.activeIndex:0,q.tabs[q.state.activeIndex].tabindex=0,q.texts=angular.copy(h.properties("tgTabs")),q.explanationSrParsed=m(),n(),q.isVertical||(e.$on("mq-changed",o),b(o,!1))}function m(){return h.replaceVariables(q.texts.explanationSr,[q.tabs.length])}function n(){if(c.html(d),a(c.contents())(e),q.isVertical){var b=g.getMqState().mq.name;q.state.isSmall="lg"!==b&&"xl"!==b,e.$on("mq-changed",function(a,b){q.state.isSmall="lg"!==b.name&&"xl"!==b.name})}}function o(){function a(){b(function(){q.state.isSmall=p()})}q.state.isSmall?(c.css("opacity","0"),e.$evalAsync(function(){q.state.isSmall=!1,a(),b(function(){c.css("opacity","")},!1)})):a()}function p(){return Math.round(c[0].querySelector("ul").getBoundingClientRect().right)<Math.round(c[0].querySelector("li:last-child").getBoundingClientRect().right)}var q=this;q.id=e.$id+i.createRandomId(),q.tabs=[],q.addTab=j,q.setActive=k,q.state={activeIndex:e.$eval(f.activeIndex)||0,isSmall:!1},q.isVertical="vertical"===f.orientation,q.justify="true"===f.justify,b(l,!1)}]}}angular.module("tgTabs").directive("tgTabs",a),a.$inject=["$compile"]}();