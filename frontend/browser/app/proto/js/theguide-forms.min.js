angular.module("tgForms",["ingGlobal","tgUtils"]),function(){function a(){return{restrict:"E",require:"^^tgForm",scope:!0,transclude:!0,template:"<fieldset><legend ng-class=\"{'sr-only': srOnly}\">{{title}}</legend><div ng-transclude></div></fieldset>",link:function(a,b,c){a.title=c.title,a.srOnly=a.$eval(c.srOnly)}}}angular.module("tgForms").directive("tgFormContainer",a)}(),function(){function a(a){return{restrict:"E",scope:!0,require:"^^tgFormRow",compile:function(b,c){function d(){var a,b,d;return b=e(),angular.isDefined(c.label)?(d=f(),a=angular.element("<div ng-class=\"{'form-group':isMultiple}\" />"),a.append(d).append(b)):a=b,a}function e(){var a=angular.element("<input />");if(angular.forEach(["name","type","placeholder"],function(d){if(d in c){var e=d.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2");a.attr(e,c[d]),b.removeAttr(e)}else if("type"===d)a.attr("type","text");else if("name"===d)throw new Error('tg-form-input[name="'+c.name+'"]: please define '+d+" attribute")}),angular.isDefined(c.validators)){var d=c.validators.split(" ");angular.forEach(d,function(b){a.attr(b,"")})}if(angular.isDefined(c.optional)||a.attr("ing-required",""),!angular.isDefined(c.model))throw new Error('tg-form-input[name="'+c.name+'"]: please define model attribute');return a.attr("ng-model",c.model),a.attr("id",g),b.removeAttr("id"),a.addClass("form-control"),a}function f(){var a=angular.element('<div class="control-label"><label for="'+g+'">'+c.label+"</label></div>");return angular.isDefined(c.labelSrOnly)&&a.addClass("sr-only"),a}var g=c.id||"input-"+a.createRandomId();return c.id=g,b.append(d()),d(),{pre:function(a,b,c,d){if(d.registerInput(c.id),angular.isDefined(c.label)&&angular.isUndefined(c.labelSrOnly)&&d.hasVisibleSubLabels(),a.isMultiple=d._children>1,d._children>1&&angular.isUndefined(c.label))throw new Error('tg-form-input[name="'+c.name+'"]: please define label attribute')}}}}}angular.module("tgForms").directive("tgFormInput",["tgUtils",a])}(),function(){function a(){return{restrict:"E",require:"^^tgForm",transclude:!0,scope:{label:"@",infoPopover:"="},template:'<ing-validation-group><div ng-if="!renderFieldset" class="form-group"><div ng-if="label" ing-form-grid-label class="control-label"><span ng-if="!inputId && !infoPopover">{{label}}</span><label ng-if="inputId && !infoPopover" for="{{inputId}}">{{label}}</label><div ng-if="infoPopover" class="icon-position icon-after icon-position-sm"><span ng-if="!for">{{label}}</span><label ng-if="for" for="{{inputId}}">{{label}}</label><span ing-info-popover config="infoPopover" class="icon-position-icon"></span></div></div><div ng-if="label" ing-form-grid-field ng-transclude></div><div ng-if="!label" ing-form-grid-offset ing-form-grid-field ng-transclude></div></div><fieldset ng-if="renderFieldset" class="fieldset-row"><legend ng-if="infoPopover && label" ing-form-grid-label class="control-label" ng-class="{\'control-label-positioned\': hasVisibleSubLabels}"><span class="icon-position icon-after icon-position-sm"><span >{{label}}</span><span ing-info-popover config="infoPopover" class="icon-position-icon"></span></span></legend><legend ng-if="!infoPopover && label" ing-form-grid-label class="control-label" ng-class="{\'control-label-positioned\': hasVisibleSubLabels}"><span >{{label}}</span></legend><div ng-if="label" ing-form-grid-field ng-transclude></div><div ng-if="!label" ing-form-grid-offset ing-form-grid-field ng-transclude></div></fieldset></ing-validation-group>',controller:["$scope",function(a){function b(){a.hasVisibleSubLabels=!0}function c(b){d._children++,1===d._children&&b&&(a.inputId=b),a.renderFieldset=d._children>1}var d=this;d._children=0,d.hasVisibleSubLabels=b,d.registerInput=c}]}}angular.module("tgForms").directive("tgFormRow",a)}(),function(){function a(){return{restrict:"E",scope:!0,replace:!0,transclude:!0,controllerAs:"tgForm",controller:["mqService","$scope","tgUtils","$element",function(a,b,c,d){function e(){b.$broadcast("checkValidity")}var f=this;f.state={},f.model={},f.validate=e,b.$on("mq-changed",function(){f.state.small=c.innerWidth(d.parent())<=a.mqSizes.xs})}],template:"<form ng-class=\"{'form-horizontal': !tgForm.state.small}\"><tg-transclude></tg-transclude></form>"}}function b(){return{restrict:"E",link:function(a,b,c,d,e){e(a,function(a){b.append(a)})}}}angular.module("tgForms").directive("tgForm",a),angular.module("tgForms").directive("tgTransclude",b)}();